# QuantBT: íŒŒì´ì¬ ê¸°ë°˜ í€€íŠ¸ íŠ¸ë ˆì´ë”© ë°±í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬

[![Python](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

**QuantBT**ëŠ” íŠ¸ë ˆì´ë”© ì•„ì´ë””ì–´ë¥¼ ë¹ ë¥´ê³  íš¨ìœ¨ì ìœ¼ë¡œ ê²€ì¦í•˜ê³ , ì „ëµì„ ìµœì í™”í•˜ë©°, ì‹¤ì œ ì‹œì¥ì— ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ëœ **ì´ë²¤íŠ¸ ê¸°ë°˜(Event-Driven) ë°±í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬**ì…ë‹ˆë‹¤.

ë‹¨ìˆœí•œ ì „ëµë¶€í„° ì—¬ëŸ¬ ìì‚°ê³¼ ì‹œê°„ëŒ€ë¥¼ ì•„ìš°ë¥´ëŠ” ë³µì¡í•œ í¬íŠ¸í´ë¦¬ì˜¤ ì „ëµê¹Œì§€, QuantBTëŠ” ëª…ë£Œí•œ ì½”ë“œì™€ ê°•ë ¥í•œ ì„±ëŠ¥ìœ¼ë¡œ ì—¬ëŸ¬ë¶„ì˜ í€€íŠ¸ íŠ¸ë ˆì´ë”© ì—°êµ¬ ê°œë°œì„ ê°€ì†í™”í•©ë‹ˆë‹¤.

## ğŸš€ ì£¼ìš” íŠ¹ì§•

- **ğŸš€ ê³ ì„±ëŠ¥ ë°±í…ŒìŠ¤íŒ… ì—”ì§„**: Rust ê¸°ë°˜ì˜ `Polars` ë°ì´í„°í”„ë ˆì„ì„ í™œìš©í•˜ì—¬ ëŒ€ê·œëª¨ ì‹œê³„ì—´ ë°ì´í„°ë¥¼ ë§¤ìš° ë¹ ë¥¸ ì†ë„ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
- **âœ¨ ìœ ì—°í•œ ì „ëµ êµ¬í˜„**: ë‹¨ì¼ ì¢…ëª©, ë©€í‹° ì‹¬ë³¼, í¬ë¡œìŠ¤ ì‹¬ë³¼, ë©€í‹° íƒ€ì„í”„ë ˆì„ ë“± ë‹¤ì–‘í•œ í˜•íƒœì˜ ì „ëµì„ ì†ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ğŸ› ï¸ ê°•ë ¥í•œ ìµœì í™” ë„êµ¬**: ê·¸ë¦¬ë“œ ì„œì¹˜ë¶€í„° ë² ì´ì§€ì•ˆ ìµœì í™”ê¹Œì§€, ìµœì²¨ë‹¨ íŒŒë¼ë¯¸í„° ìµœì í™” ê¸°ë²•ì„ `Ray`ë¥¼ í†µí•œ ë³‘ë ¬ ì²˜ë¦¬ë¡œ ë¹ ë¥´ê²Œ ì‹¤í–‰í•©ë‹ˆë‹¤.
- **ğŸ“ˆ ì§ê´€ì ì¸ ê²°ê³¼ ë¶„ì„**: ë°±í…ŒìŠ¤íŒ… ê²°ê³¼ë¥¼ ë‹´ì€ ë¦¬í¬íŠ¸ì™€ **ë‹¤ì±„ë¡œìš´ ì‹œê°í™” ì°¨íŠ¸**ë¥¼ í†µí•´ ì „ëµì˜ ì„±ê³¼ë¥¼ ë‹¤ê°ë„ë¡œ ë¶„ì„í•˜ê³  ê¹Šì´ ìˆëŠ” ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- **ğŸ”Œ í™•ì¥ ê°€ëŠ¥í•œ ì•„í‚¤í…ì²˜**: ë°ì´í„° ì†ŒìŠ¤, ë¦¬ìŠ¤í¬ ê´€ë¦¬, í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„± ë“± ëª¨ë“  ìš”ì†Œë¥¼ ì‚¬ìš©ìê°€ ì§ì ‘ ì •ì˜í•˜ê³  í™•ì¥í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.
- **ğŸ’¡ ë£©ì–´í—¤ë“œ í¸í–¥ ë°©ì§€**: ê° ì‹œì ì—ì„œëŠ” ê³¼ê±°ì™€ í˜„ì¬ ë°ì´í„°ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì–´ ë¯¸ë˜ ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ëŠ” ì‹¤ìˆ˜ë¥¼ ì›ì²œì ìœ¼ë¡œ ë°©ì§€í•©ë‹ˆë‹¤.

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```mermaid
graph TD
    subgraph "ì…ë ¥ ê³„ì¸µ (Input Layer)"
        direction LR
        subgraph "ë°ì´í„° ì†ŒìŠ¤"
            DP[Data Provider]
        end
        subgraph "ì „ëµ ë° ì„¤ì •"
            ST[Strategy]
            CF[Configuration]
        end
    end

    subgraph "ì½”ì–´ ì—”ì§„ (Core Engine)"
        direction TB
        BE[Backtest Engine]
        EV[Event Queue]
        BR[Broker]
        PM[Portfolio Manager]
        
        BE --"ì´ë²¤íŠ¸ ìƒì„±"--> EV
        EV --"ì´ë²¤íŠ¸ ì „ë‹¬"--> ST
        EV --"ì´ë²¤íŠ¸ ì „ë‹¬"--> BR
        BR --"í¬ì§€ì…˜ ì—…ë°ì´íŠ¸"--> PM
    end

    subgraph "ë¶„ì„ ë° ì¶œë ¥ ê³„ì¸µ (Analysis & Output)"
        direction LR
        RP[Result & Stats]
        PL[Plotting]
    end

    DP --> BE
    ST --> BE
    CF --> BE
    BE --> RP
    RP --> PL

    classDef input fill:#e1f5fe
    classDef core fill:#e8f5e9
    classDef output fill:#fff3e0
    
    class DP,ST,CF input
    class BE,EV,BR,PM core
    class RP,PL output
```

## ğŸ“¦ ì„¤ì¹˜

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/lazydok/quantbt.git
cd quantbt

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# ê°€ìƒ í¸ì§‘ ëª¨ë“œë¡œ ì„¤ì¹˜
pip install -e .
```

## âš¡ 5ë¶„ ë§Œì— ì‹œì‘í•˜ê¸°: ê°„ë‹¨í•œ ì „ëµ ë°±í…ŒìŠ¤íŒ…

ì´ë™í‰ê· ì„  ë‘ ê°œì˜ êµì°¨ë¥¼ ì´ìš©í•˜ëŠ” ê°„ë‹¨í•œ ì „ëµì„ ë°±í…ŒìŠ¤íŒ…í•˜ëŠ” ì˜ˆì œì…ë‹ˆë‹¤.

```python
from datetime import datetime
from quantbt import (
    BacktestEngine,
    BacktestConfig,
    UpbitDataProvider,
    SimpleBroker,
    SimpleSMAStrategy,
)

# 1. ë°ì´í„° í”„ë¡œë°”ì´ë” ì„¤ì •
data_provider = UpbitDataProvider()

# 2. ë°±í…ŒìŠ¤íŒ… ì„¤ì •
config = BacktestConfig(
    symbols=["KRW-BTC"],
    start_date=datetime(2023, 1, 1),
    end_date=datetime(2023, 12, 31),
    timeframe="1d",
    initial_cash=10000,
    commission_rate=0.001,
    slippage_rate=0.0,
    save_portfolio_history=True,
)

# 3. ì „ëµ ì„ íƒ
strategy = SimpleSMAStrategy(buy_sma=10, sell_sma=30)

# 4. ë¸Œë¡œì»¤ ì„¤ì •
broker = SimpleBroker(
    initial_cash=config.initial_cash,
    commission_rate=config.commission_rate,
)

# 5. ë°±í…ŒìŠ¤íŒ… ì—”ì§„ ì„¤ì • ë° ì‹¤í–‰
engine = BacktestEngine()
engine.set_strategy(strategy)
engine.set_data_provider(data_provider)
engine.set_broker(broker)

result = engine.run(config)

# 6. ê²°ê³¼ í™•ì¸
result.print_summary()
```

## ğŸ“Š í’ë¶€í•œ ì‹œê°í™”

QuantBTëŠ” ë°±í…ŒìŠ¤íŒ… ê²°ê³¼ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ë¶„ì„í•  ìˆ˜ ìˆë„ë¡ ë‹¤ì–‘í•œ ì‹œê°í™” ì°¨íŠ¸ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ìì‚° ê³¡ì„ , ë“œë¡œìš°ë‹¤ìš´, ê±°ë˜ ë‚´ì—­ ë“± ë³µì¡í•œ ë°ì´í„°ë¥¼ ì§ê´€ì ìœ¼ë¡œ íŒŒì•…í•˜ê³  ì „ëµì— ëŒ€í•œ ê¹Šì´ ìˆëŠ” ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ìœ¼ì„¸ìš”.

| ìì‚° ê³¡ì„  ë° ì£¼ìš” ì§€í‘œ | ìˆ˜ìµë¥  ë¶„í¬ë„ |
| :---: | :---: |
| ![Equity Curve](./imgs/01_1.png) | ![ìˆ˜ìµë¥ ë¶„í¬](./imgs/01_2.png) |

| ì›”ë³„ ìˆ˜ìµë¥  íˆíŠ¸ë§µ | ì „ëµ ì„±ê³¼ ì§€í‘œ |
| :---: | :---: |
| ![ìˆ˜ìµë¥  íˆíŠ¸ë§µ](./imgs/01_3.png) | ![ì „ëµ ì„±ê³¼ì§€í‘œ](./imgs/01_4.png) |

## ğŸ“š íŠœí† ë¦¬ì–¼ ë° ê°€ì´ë“œ

QuantBTì˜ ê°•ë ¥í•˜ê³  ë‹¤ì–‘í•œ ê¸°ëŠ¥ë“¤ì„ ì˜ˆì œì™€ í•¨ê»˜ ë°°ì›Œë³´ì„¸ìš”.

| íŠœí† ë¦¬ì–¼                               | ì„¤ëª…                                                                   | ê°€ì´ë“œ ë¬¸ì„œ                                                                      | ì˜ˆì œ ë…¸íŠ¸ë¶                                                                            |
| -------------------------------------- | ---------------------------------------------------------------------- | -------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------- |
| **1. ê¸°ë³¸ ì „ëµ ë°±í…ŒìŠ¤íŒ…**          | ë‹¨ì¼ ì¢…ëª©ì— ëŒ€í•œ ê¸°ë³¸ì ì¸ ë°±í…ŒìŠ¤íŒ… ê³¼ì •ì„ ì•Œì•„ë´…ë‹ˆë‹¤.                  | [ğŸ“„ ê°€ì´ë“œ ë³´ê¸°](./quantbt/docs/01_simple_strategy_guide.md)                     | [ğŸ’» ì½”ë“œ ì‹¤í–‰](./quantbt/examples/01_simple_strategy.ipynb)                            |
| **2. ë©€í‹° ì‹¬ë³¼ ì „ëµ**              | ì—¬ëŸ¬ ì¢…ëª©ìœ¼ë¡œ êµ¬ì„±ëœ í¬íŠ¸í´ë¦¬ì˜¤ ì „ëµì„ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.                   | [ğŸ“„ ê°€ì´ë“œ ë³´ê¸°](./quantbt/docs/02_multi_symbol_strategy_guide.md)                 | [ğŸ’» ì½”ë“œ ì‹¤í–‰](./quantbt/examples/02_multi_symbol_strategy.ipynb)                        |
| **3. í¬ë¡œìŠ¤ ì‹¬ë³¼ ì „ëµ**            | íŠ¹ì • ì¢…ëª©ì˜ ì§€í‘œë¡œ ë‹¤ë¥¸ ì¢…ëª©ì„ ê±°ë˜í•˜ëŠ” ê³ ê¸‰ ì „ëµì„ êµ¬í˜„í•©ë‹ˆë‹¤.          | [ğŸ“„ ê°€ì´ë“œ ë³´ê¸°](./quantbt/docs/03_cross_symbol_indicator_strategy_guide.md)     | [ğŸ’» ì½”ë“œ ì‹¤í–‰](./quantbt/examples/03_cross_symbol_indicator_strategy.ipynb)              |
| **4. ë©€í‹° íƒ€ì„í”„ë ˆì„ ì „ëµ**        | ì‹œê°„ë´‰ê³¼ ë¶„ë´‰ì„ í•¨ê»˜ ì‚¬ìš©í•˜ì—¬ ë” ì •êµí•œ ë§¤ë§¤ íƒ€ì´ë°ì„ ë¶„ì„í•©ë‹ˆë‹¤.        | [ğŸ“„ ê°€ì´ë“œ ë³´ê¸°](./quantbt/docs/04_multi_timeframe_strategy_guide.md)            | [ğŸ’» ì½”ë“œ ì‹¤í–‰](./quantbt/examples/04_multi_timeframe_strategy.ipynb)                     |
| **5. íŒŒë¼ë¯¸í„° ë³‘ë ¬ íƒìƒ‰**          | ê·¸ë¦¬ë“œ ì„œì¹˜ë¥¼ ë³‘ë ¬ë¡œ ìˆ˜í–‰í•˜ì—¬ ìµœì ì˜ íŒŒë¼ë¯¸í„°ë¥¼ ë¹ ë¥´ê²Œ ì°¾ìŠµë‹ˆë‹¤.       | [ğŸ“„ ê°€ì´ë“œ ë³´ê¸°](./quantbt/docs/05_parallel_search_guide.md)                     | [ğŸ’» ì½”ë“œ ì‹¤í–‰](./quantbt/examples/05_parallel_search.ipynb)                            |
| **6. ë² ì´ì§€ì•ˆ ìµœì í™”**             | ë” ì ì€ ì‹œë„ë¡œ ë” ë‚˜ì€ íŒŒë¼ë¯¸í„°ë¥¼ ì°¾ëŠ” ì§€ëŠ¥ì ì¸ ìµœì í™”ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.     | [ğŸ“„ ê°€ì´ë“œ ë³´ê¸°](./quantbt/docs/06_bayesian_optimization_guide.md)                 | [ğŸ’» ì½”ë“œ ì‹¤í–‰](./quantbt/examples/06_bayesian_optimization.ipynb)                        |

## ğŸ›£ï¸ ë¡œë“œë§µ

- [x] ê³ ì„±ëŠ¥ ì´ë²¤íŠ¸ ê¸°ë°˜ ë°±í…ŒìŠ¤íŒ… ì—”ì§„
- [x] ê¸°ë³¸ ì „ëµ ë¼ì´ë¸ŒëŸ¬ë¦¬ (SMA, RSI, Buy & Hold)
- [x] ë£©ì–´í—¤ë“œ í¸í–¥ ë°©ì§€ ì‹œìŠ¤í…œ
- [x] ë©€í‹° ì‹¬ë³¼ í¬íŠ¸í´ë¦¬ì˜¤ ì „ëµ ì§€ì›
- [x] ë©€í‹° íƒ€ì„í”„ë ˆì„ ë¶„ì„ ì‹œìŠ¤í…œ (ë¦¬ìƒ˜í”Œë§)
- [x] íŒŒë¼ë¯¸í„° ìµœì í™” ë³‘ë ¬ ì²˜ë¦¬ (Ray ì—°ë™)
- [x] ë² ì´ì§€ì•ˆ íŒŒë¼ë¯¸í„° ìµœì í™”
- [ ] ì‹¤ì‹œê°„ ë°ì´í„° í”¼ë“œ ì—°ë™ (Live Trading)
- [ ] ë¨¸ì‹ ëŸ¬ë‹/ë”¥ëŸ¬ë‹ ì „ëµ í”„ë ˆì„ì›Œí¬ í†µí•©
- [ ] í´ë¼ìš°ë“œ ê¸°ë°˜ ëŒ€ê·œëª¨ ë°±í…ŒìŠ¤íŒ… ì§€ì›
- [ ] ì›¹ ê¸°ë°˜ ë¶„ì„ ëŒ€ì‹œë³´ë“œ

## ğŸ¤ ê¸°ì—¬í•˜ê¸°

QuantBTëŠ” ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤. ì—¬ëŸ¬ë¶„ì˜ ê¸°ì—¬ë¥¼ ì–¸ì œë‚˜ í™˜ì˜í•©ë‹ˆë‹¤! ë²„ê·¸ ë¦¬í¬íŠ¸, ê¸°ëŠ¥ ì œì•ˆ, ì½”ë“œ ê¸°ì—¬ ë“± ì–´ë–¤ í˜•íƒœì˜ ì°¸ì—¬ë“  ì¢‹ìŠµë‹ˆë‹¤.

1.  ì €ì¥ì†Œë¥¼ Fork í•˜ì„¸ìš”.
2.  ìƒˆë¡œìš´ ê¸°ëŠ¥ ë¸Œëœì¹˜ë¥¼ ë§Œë“œì„¸ìš” (`git checkout -b feature/amazing-feature`).
3.  ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•˜ì„¸ìš” (`git commit -m 'Add some amazing feature'`).
4.  ë¸Œëœì¹˜ì— í‘¸ì‹œí•˜ì„¸ìš” (`git push origin feature/amazing-feature`).
5.  Pull Requestë¥¼ ì—´ì–´ì£¼ì„¸ìš”.

## ğŸ“„ ë¼ì´ì„¼ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” MIT ë¼ì´ì„¼ìŠ¤ í•˜ì— ë°°í¬ë©ë‹ˆë‹¤. ìì„¸í•œ ë‚´ìš©ì€ [LICENSE](LICENSE) íŒŒì¼ì„ ì°¸ì¡°í•˜ì„¸ìš”.

---

**âš ï¸ ë©´ì±… ì¡°í•­**: ì´ ì†Œí”„íŠ¸ì›¨ì–´ëŠ” êµìœ¡ ë° ì—°êµ¬ ëª©ì ìœ¼ë¡œë§Œ ì œê³µë©ë‹ˆë‹¤. ì‹¤ì œ íˆ¬ìì— ë”°ë¥¸ ëª¨ë“  ì±…ì„ì€ ì‚¬ìš©ì ë³¸ì¸ì—ê²Œ ìˆìŠµë‹ˆë‹¤.
